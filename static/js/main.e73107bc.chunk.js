(this["webpackJsonpblog-space"]=this["webpackJsonpblog-space"]||[]).push([[0],{125:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),l=a(11),i=(a(98),a(16)),u=a(55),m=a.n(u),s=a(75),p=a(76),b=a.n(p);var d=a(156),f=a(160),E=a(161),h=a(162),O=a(51),g=a(163),j=a(164),y=a(165),v=a(80),C=a.n(v),N=Object(y.a)((function(){return{title:{fontWeight:"normal",fontSize:"2.2rem"},buttonContainer:{padding:"16px"}}})),T=function(e){var t=e.title,a=e.body,n=e.id,o=e.comments,c=N(),u=Object(l.g)(),m=Object(i.b)();return r.a.createElement(d.a,{variant:"outlined"},r.a.createElement(f.a,{action:r.a.createElement(E.a,{onClick:function(){m({type:"DELETE_POST",payload:n})}},r.a.createElement(C.a,null))}),r.a.createElement(h.a,null,r.a.createElement(O.a,{noWrap:!0,className:c.title,variant:"h2"},t),r.a.createElement(O.a,{noWrap:!0,component:"div",variant:"body2"},a)),r.a.createElement(g.a,{className:c.buttonContainer},r.a.createElement(j.a,{variant:"contained",color:"primary",onClick:function(){u.push({pathname:"/posts/".concat(n),state:{title:t,body:a,id:n,comments:o}})}},"Learn more...")))},S=a(166),x=a(167),k=Object(y.a)((function(){return{page:{paddingTop:"3rem"}}})),w=function(){var e=Object(i.c)((function(e){return e.posts})),t=Object(i.b)(),a=k();return Object(n.useEffect)((function(){e.length||t(function(){var e=Object(s.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://bloggy-api.herokuapp.com/posts");case 2:(a=e.sent).data.forEach((function(e){e.comments=[]})),t({type:"FETCH_POSTS",payload:a.data});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e,t]),r.a.createElement(S.a,{maxWidth:"xl"},r.a.createElement(x.a,{className:a.page,container:!0,spacing:3},e.map((function(e){return r.a.createElement(x.a,{key:e.id,item:!0,xs:12,sm:6,md:4},r.a.createElement(T,e))}))))},P=a(25),D=a(13),_=a(35),z=a(171),W=a(127),A=a(81),H=a.n(A),V=a(172),F=a(173),L=a(168),M=a(174),I=Object(y.a)((function(){return{formControl:{margin:"2rem 0",display:"block"},inputField:{fontSize:"1.4rem"},input:{fontSize:"1.6rem"},comment:{resize:"none",padding:"1rem",fontSize:"1.6rem",fontFamily:"Roboto"}}})),q=function(e){var t=e.submitHandler,a=e.inputLabel,n=e.inputName,o=e.inputValue,c=e.textareaName,l=e.textareaValue,i=e.onChangeHandler,u=I();return r.a.createElement("form",null,r.a.createElement(V.a,{className:u.formControl},r.a.createElement(F.a,{className:u.inputField},a),r.a.createElement(L.a,{required:!0,className:u.input,value:o,name:n,onChange:i})),r.a.createElement(W.a,{className:u.comment,required:!0,cols:100,rows:15,value:l,name:c,onChange:i}),r.a.createElement(j.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(M.a,null),size:"large",onClick:t},"Post"))},U=a(175),B=a(50),J=Object(y.a)((function(){return{card:{marginTop:"1.5rem"},avatar:{backgroundColor:B.a[700]}}})),R=function(e){var t=e.comment,a=J();return r.a.createElement(d.a,{className:a.card},r.a.createElement(f.a,{avatar:r.a.createElement(U.a,{color:"primary",className:a.avatar},t.author[0].toUpperCase()),title:t.author,titleTypographyProps:{variant:"h6"}}),r.a.createElement(h.a,null,t.content))},$=function(e){var t=e.currentPost,a=Object(i.b)(),o=Object(i.c)((function(e){return e.posts})).find((function(e){return e.id===t.id})).comments,c=Object(n.useState)({author:"",content:""}),l=Object(_.a)(c,2),u=l[0],m=l[1];return r.a.createElement("div",null,o.length?o.map((function(e,t){return r.a.createElement(R,{comment:e,key:t})})):r.a.createElement(O.a,{component:"h2",variant:"h4"},"There are no comments yet!"),r.a.createElement(q,{submitHandler:function(){u.author.length&&u.content.length?(a(function(e,t){return{type:"ADD_COMMENT",payload:{post:e,comment:t}}}(t,u)),m({author:"",content:""})):alert("Input fields cannot be empty. Try again, please.")},inputLabel:"Author",inputName:"author",inputValue:u.author,textareaName:"content",textareaValue:u.content,onChangeHandler:function(e){var t=e.target;m(Object(D.a)(Object(D.a)({},u),{},Object(P.a)({},t.name,t.value)))}}))},G=Object(y.a)((function(){return{page:{padding:"1rem"},article:{fontSize:"1.4rem",margin:"2rem 0"},header:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},textarea:{resize:"none",padding:"1rem",fontFamily:"Roboto"}}})),K=function(){var e=Object(l.h)().state,t=G(),a=Object(i.b)(),o=Object(n.useState)(!1),c=Object(_.a)(o,2),u=c[0],m=c[1],s=Object(n.useState)(e),p=Object(_.a)(s,2),b=p[0],d=p[1],f=function(e){var t=e.target;d(Object(D.a)(Object(D.a)({},b),{},Object(P.a)({},t.name,t.value)))};return r.a.createElement(S.a,{className:t.page},r.a.createElement(O.a,{className:t.header,component:"h1",variant:"h2"},u?r.a.createElement(z.a,{fullWidth:!0,defaultValue:e.title,name:"title",value:b.title,onChange:f}):b.title,r.a.createElement(E.a,{onClick:function(){u&&a({type:"UPDATE_POST",payload:b}),m((function(e){return!e}))}},r.a.createElement(H.a,{fontSize:"large",color:"error"}))),r.a.createElement(O.a,{color:"textSecondary",className:t.article},u?r.a.createElement(W.a,{required:!0,cols:100,rows:15,defaultValue:e.body,name:"body",value:b.body,onChange:f,className:t.textarea}):b.body),r.a.createElement($,{currentPost:b}))},Q=function(){var e=Object(n.useState)({title:"",body:""}),t=Object(_.a)(e,2),a=t[0],o=t[1],c=Object(i.b)(),u=Object(l.g)();return r.a.createElement(S.a,null,r.a.createElement(q,{submitHandler:function(){a.body.length&&a.title.length?(c({type:"ADD_NEW_POST",payload:a}),u.push("/")):alert("Input fields cannot be empty. Try again, please.")},inputLabel:"Title",inputName:"title",inputValue:a.title,textareaName:"body",textareaValue:a.body,onChangeHandler:function(e){var t=e.target;o(Object(D.a)(Object(D.a)({},a),{},Object(P.a)({},t.name,t.value)))}}))},X=a(169),Y=a(170),Z=Object(y.a)((function(){return{toolbar:{display:"flex",justifyContent:"space-between"}}})),ee=function(){var e=Object(l.g)(),t=Z();return r.a.createElement(X.a,{position:"sticky"},r.a.createElement(Y.a,{className:t.toolbar},r.a.createElement(j.a,{color:"inherit",onClick:function(){return e.push("/")}},r.a.createElement(O.a,{variant:"h6"},"Main")),r.a.createElement(j.a,{color:"inherit",onClick:function(){return e.push("/posts/new")}},r.a.createElement(O.a,{variant:"h6"},"Add new post"))))},te=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,null),r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",component:w}),r.a.createElement(l.b,{path:"/posts/new",component:Q}),r.a.createElement(l.b,{path:"/posts/:id",component:K}),r.a.createElement(l.b,{path:"*"},r.a.createElement(l.a,{to:"/"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=a(30),ne=a(24),re=a(85),oe={posts:[]};var ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POSTS":return Object(D.a)(Object(D.a)({},e),{},{posts:t.payload});case"UPDATE_POST":var a=t.payload;return Object(D.a)(Object(D.a)({},e),{},{posts:e.posts.map((function(e){return e.id===a.id?a:e}))});case"DELETE_POST":var n=t.payload;return Object(D.a)(Object(D.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==n}))});case"ADD_COMMENT":var r=t.payload,o=r.post,c=r.comment;return Object(D.a)(Object(D.a)({},e),{},{posts:e.posts.map((function(e){return e.id===o.id&&e.comments.push(c),e}))});case"ADD_NEW_POST":var l=t.payload;return l.id=e.posts[e.posts.length-1].id+1,l.comments=[],Object(D.a)(Object(D.a)({},e),{},{posts:[].concat(Object(re.a)(e.posts),[l])});default:return e}},le=a(82),ie=a(58),ue=a(83),me={key:"root",storage:a.n(ue).a},se=Object(ie.a)(me,ce),pe=Object(ne.d)(se,Object(ne.a)(le.a)),be=Object(ie.b)(pe),de=a(84);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:pe},r.a.createElement(de.a,{persistor:be},r.a.createElement(ae.a,{basename:"/blog-space"},r.a.createElement(te,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},93:function(e,t,a){e.exports=a(125)},98:function(e,t,a){}},[[93,1,2]]]);
//# sourceMappingURL=main.e73107bc.chunk.js.map